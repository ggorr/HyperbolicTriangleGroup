<!DOCTYPE html><html lang="ko-KR" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Hyperbolic Triangle Group</title><link rel="icon" href="htg.ico"><link rel="stylesheet" href="htg.css"><script type="module">'use strict';
import { loadSample, setUnit, showTriangle, build, stopBuilding, saveSvg, setInfo } from './htg.js';

document.getElementById('sample1').addEventListener('click', () => loadSample(1));
document.getElementById('sample2').addEventListener('click', () => loadSample(2));
document.getElementById('sample3').addEventListener('click', () => loadSample(3));
document.getElementById('sample4').addEventListener('click', () => loadSample(4));
document.getElementById('p').addEventListener('keydown', (e) => { if (e.keyCode == 13) showTriangle(); });
document.getElementById('q').addEventListener('keydown', (e) => { if (e.keyCode == 13) showTriangle(); });
document.getElementById('r').addEventListener('keydown', (e) => { if (e.keyCode == 13) showTriangle(); });
document.getElementById('unit').addEventListener('keydown', (e) => { if (e.keyCode == 13) showTriangle(); });
document.getElementById('fit-unit').addEventListener('click', setUnit);
document.getElementById('showtriangle').addEventListener('click', showTriangle);
document.getElementById('maxiter').addEventListener('keydown', (e) => { if (e.keyCode == 13) build(); });
document.getElementById('build').addEventListener('click', build);
document.getElementById('stop').addEventListener('click', stopBuilding);
document.getElementById('svg-unit').addEventListener('keydown', (e) => { if (e.keyCode == 13) saveSvg(); });
document.getElementById('svg-file').addEventListener('keydown', (e) => { if (e.keyCode == 13) saveSvg(); });
document.getElementById('save-svg').addEventListener('click', saveSvg);

window.onload = () => document.getElementById('build').click();

const resizeObserver = new ResizeObserver(entries => {
	let leftHeight = document.getElementById('left').clientHeight;
	let windowHeight = window.innerHeight;
	let titleHeight = document.getElementById('title').scrollHeight;
	let authorHeight = document.getElementById('author').scrollHeight;
	let tableHeight =  document.getElementById('table').scrollHeight;
	let height = Math.min(tableHeight, windowHeight - titleHeight - authorHeight - 52);
	if (height < tableHeight / 2)
		height = tableHeight;
	// console.log(leftHeight + ', ' + titleHeight + ', ' + authorHeight + ', ' + tableHeight + ', ' + windowHeight);
	document.getElementById('table').style.height = height + 'px';
	// console.log(leftHeight + ', ' + titleHeight + ', ' + authorHeight + ', ' + tableHeight + ', ' + windowHeight);
})
resizeObserver.observe(document.body)


</script></head><body id="body"><div class="left" id="left"><div id="title"><h3 class="title">Hyperbolic<br>Triangle Group</h3></div><div class="table" id="table"><table><tr><th><button id="sample1">1</button>&nbsp;<button id="sample2">2</button>&nbsp;<button id="sample3">3</button>&nbsp;<button id="sample4">4</button></th></tr><tr><th><label class="pqr" for="p">p:</label>&nbsp;<input class="pqr" id="p" value="2" title="1/p + 1/q + 1/r &lt; 1" required>&nbsp;<label class="pqr" for="q">q:</label>&nbsp;<input class="pqr" id="q" value="3" title="1/p + 1/q + 1/r &lt; 1" required>&nbsp;<label class="pqr" for="r">r:</label>&nbsp;<input class="pqr" id="r" value="7" title="1/p + 1/q + 1/r &lt; 1" required></th></tr><tr></tr><tr> <th> <label class="unit" for="unit">radius:</label>&nbsp;<input class="unit" id="unit" title="px">&nbsp;<button class="unit" id="fit-unit">Page Fit</button></th></tr><tr></tr><tr><th><button class="big" id="showtriangle">Show Triangle</button></th></tr><tr></tr><tr><th><label class="maxiter" for="maxiter">iter:</label>&nbsp;<input class="maxiter" id="maxiter" value="44" title="maximum number of iteration"></th></tr><tr><th><input id="fill" type="checkbox" checked>&nbsp;<label for="fill">fill triangle</label></th></tr><tr><th><button class="build" id="stop">Stop</button>&nbsp;<button class="build" id="build">Build</button></th></tr><tr><td><span class="time">iteration:</span>&nbsp;<span class="time" id="iteration"></span></td></tr><tr><td><span class="time">triangles:</span>&nbsp;<span class="time" id="triangles"></span></td></tr><tr> <td><span class="time">time(sec):</span>&nbsp;<span class="time" id="time"></span></td></tr><tr> </tr><tr> <th><label class="svg-unit" for="svg-unit">svg unit:</label>&nbsp;<input class="svg-unit" id="svg-unit" value="450" title="px"></th></tr><tr><th><label class="svg-file" for="svg-file">svg file:</label>&nbsp;<input class="svg-file" id="svg-file"></th></tr><tr><th><button class="big" id="save-svg">Download SVG</button></th></tr><tr></tr><tr> <td class="info" id="info"><center>info:</center></td></tr></table></div><div id="author"><center><strong>by K. Park<br>ggorr.kp@gmail.com</strong></center></div></div><div class="right" id="right"><canvas id="canvas"></canvas></div></body></html>