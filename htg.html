<!DOCTYPE html>
<html lang="ko-KR" dir="ltr">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Hyperbolic Triangle Group</title>
	<link rel="apple-touch-icon" sizes="57x57" href="icons/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="icons/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="icons/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="icons/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="icons/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="icons/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="icons/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="icons/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="icons/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192" href="icons/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="icons/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
	<link rel="manifest" href="icons/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="icons/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">
	<link rel="stylesheet" href="htg.css">
	<script type='module'>
		'use strict';
		import { loadSample, showTriangle, build, stopBuilding, saveSvg, setInfo } from './htg.js';
		document.getElementById('sample1').addEventListener('click', () => loadSample(1));
		document.getElementById('sample2').addEventListener('click', () => loadSample(2));
		document.getElementById('sample3').addEventListener('click', () => loadSample(3));
		document.getElementById('sample4').addEventListener('click', () => loadSample(4));
		document.getElementById('p').addEventListener('keydown', () => { if (event.keyCode == 13) showTriangle(); });
		document.getElementById('q').addEventListener('keydown', () => { if (event.keyCode == 13) showTriangle(); });
		document.getElementById('r').addEventListener('keydown', () => { if (event.keyCode == 13) showTriangle(); });
		document.getElementById('showtriangle').addEventListener('click', showTriangle);
		document.getElementById('maxiter').addEventListener('keydown', () => { if (event.keyCode == 13) build(); });
		document.getElementById('build').addEventListener('click', build);
		document.getElementById('stop').addEventListener('click', stopBuilding);
		document.getElementById('save-svg').addEventListener('click', saveSvg);
	</script>
</head>

<body>
	<div class='left'>
		<h2 class='heading'>Hyperbolic<br>Triangle Group</h2>
		<table>
			<tr>
				<th>
					<button id='sample1'>1</button>
					<button id='sample2'>2</button>
					<button id='sample3'>3</button>
					<button id='sample4'>4</button>
				</th>
			</tr>
			<tr>
				<th>
					<label class="pqr" for="p">p:</label><input class="pqr" id="p" value="2" required>
				</th>
			</tr>
			<tr>
				<th>
					<label class="pqr" for="q">q:</label><input class="pqr" id="q" value="3" required>
				</th>
			</tr>
			<tr>
				<th>
					<label class="pqr" for="r">r:</label><input class="pqr" id="r" value="7" required>
				</th>
			</tr>
			<tr>
				<td class="cond"><sup>*</sup>1/p + 1/q + 1/r &lt 1</td>
			</tr>
			<tr></tr>
			<tr>
				<th><button class='big' id='showtriangle'>Show Triangle</button></th>
			</tr>
			<tr></tr>
			<tr>
				<th>
					<label class="maxiter" for="maxiter">max iter:</label><input class="maxiter" id="maxiter"
						value="46">
				</th>
			</tr>
			<tr>
				<th><input id="fill" type="checkbox" checked> <label for='fill'>Fill Triangle</label></th>
			</tr>
			<tr>
				<th><button class='big' id='build'>Build Image</button></th>
			</tr>
			<tr>
				<th><button class='big' id="stop">Stop Building</button></th>
			</tr>
			<tr>
				<th>
					<label class="time" for="iteration">iteration:</label><input class="time" id="iteration" readonly>
				</th>
			</tr>
			<tr>
				<th>
					<label class="time" for="triangles">triangles:</label><input class="time" id="triangles" readonly>
				</th>
			</tr>
			<tr>
				<th>
					<label class="time" for="time">time(sec):</label><input class="time" id="time" readonly>
				</th>
			</tr>
			<tr></tr>
			<tr>
				<th>
					<label class="svg-unit" for='svg-unit'>svg unit(px):</label><input class="svg-unit" id="svg-unit"
						value="300">
				</th>
			</tr>
			<tr>
				<th><button class='big' id='save-svg'>Save as SVG</button></th>
			</tr>
			<tr>
				<td id="download"></td>
			</tr>
			<tr>
				<td>
					<p id="info">info: </p>
				</td>
			</tr>
			<!--
			<tr>
				<th><button class="big" onclick="setInfo('')">Clear Info</button></th>
			</tr>
			-->
			<tr>
				<th>by K. Park<br>ggorr.kp@gmail.com</th>
			</tr>
		</table>
	</div>
	<div class='right'>
		<canvas id="canvas"></canvas>
	</div>
</body>

</html>